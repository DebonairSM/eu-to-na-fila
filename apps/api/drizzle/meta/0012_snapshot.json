{
  "id": "c1456faa-f4f8-4a96-96ba-a49b0d37c529",
  "prevId": "cccbf4bf-fcfa-435b-8487-d472e8db03ab",
  "version": "5",
  "dialect": "pg",
  "tables": {
    "audit_log": {
      "name": "audit_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "shop_id": {
          "name": "shop_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "ticket_id": {
          "name": "ticket_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "actor_type": {
          "name": "actor_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "actor_id": {
          "name": "actor_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "audit_log_shop_id_idx": {
          "name": "audit_log_shop_id_idx",
          "columns": [
            "shop_id"
          ],
          "isUnique": false
        },
        "audit_log_ticket_id_idx": {
          "name": "audit_log_ticket_id_idx",
          "columns": [
            "ticket_id"
          ],
          "isUnique": false
        },
        "audit_log_action_idx": {
          "name": "audit_log_action_idx",
          "columns": [
            "action"
          ],
          "isUnique": false
        },
        "audit_log_created_at_idx": {
          "name": "audit_log_created_at_idx",
          "columns": [
            "created_at"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "audit_log_shop_id_shops_id_fk": {
          "name": "audit_log_shop_id_shops_id_fk",
          "tableFrom": "audit_log",
          "tableTo": "shops",
          "columnsFrom": [
            "shop_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "audit_log_ticket_id_tickets_id_fk": {
          "name": "audit_log_ticket_id_tickets_id_fk",
          "tableFrom": "audit_log",
          "tableTo": "tickets",
          "columnsFrom": [
            "ticket_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "barber_service_weekday_stats": {
      "name": "barber_service_weekday_stats",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "barber_id": {
          "name": "barber_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "service_id": {
          "name": "service_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "shop_id": {
          "name": "shop_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "day_of_week": {
          "name": "day_of_week",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "avg_duration": {
          "name": "avg_duration",
          "type": "real",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_completed": {
          "name": "total_completed",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "bsws_barber_service_day_unique": {
          "name": "bsws_barber_service_day_unique",
          "columns": [
            "barber_id",
            "service_id",
            "day_of_week"
          ],
          "isUnique": true
        },
        "bsws_shop_id_idx": {
          "name": "bsws_shop_id_idx",
          "columns": [
            "shop_id"
          ],
          "isUnique": false
        },
        "bsws_barber_id_idx": {
          "name": "bsws_barber_id_idx",
          "columns": [
            "barber_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "barber_service_weekday_stats_barber_id_barbers_id_fk": {
          "name": "barber_service_weekday_stats_barber_id_barbers_id_fk",
          "tableFrom": "barber_service_weekday_stats",
          "tableTo": "barbers",
          "columnsFrom": [
            "barber_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "barber_service_weekday_stats_service_id_services_id_fk": {
          "name": "barber_service_weekday_stats_service_id_services_id_fk",
          "tableFrom": "barber_service_weekday_stats",
          "tableTo": "services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "barber_service_weekday_stats_shop_id_shops_id_fk": {
          "name": "barber_service_weekday_stats_shop_id_shops_id_fk",
          "tableFrom": "barber_service_weekday_stats",
          "tableTo": "shops",
          "columnsFrom": [
            "shop_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "barbers": {
      "name": "barbers",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "shop_id": {
          "name": "shop_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_present": {
          "name": "is_present",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "revenue_share_percent": {
          "name": "revenue_share_percent",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "barbers_shop_username_unique": {
          "name": "barbers_shop_username_unique",
          "columns": [
            "shop_id",
            "username"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "barbers_shop_id_shops_id_fk": {
          "name": "barbers_shop_id_shops_id_fk",
          "tableFrom": "barbers",
          "tableTo": "shops",
          "columnsFrom": [
            "shop_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "client_clip_notes": {
      "name": "client_clip_notes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "client_id": {
          "name": "client_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "barber_id": {
          "name": "barber_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "note": {
          "name": "note",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "client_clip_notes_client_id_idx": {
          "name": "client_clip_notes_client_id_idx",
          "columns": [
            "client_id"
          ],
          "isUnique": false
        },
        "client_clip_notes_barber_id_idx": {
          "name": "client_clip_notes_barber_id_idx",
          "columns": [
            "barber_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "client_clip_notes_client_id_clients_id_fk": {
          "name": "client_clip_notes_client_id_clients_id_fk",
          "tableFrom": "client_clip_notes",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "client_clip_notes_barber_id_barbers_id_fk": {
          "name": "client_clip_notes_barber_id_barbers_id_fk",
          "tableFrom": "client_clip_notes",
          "tableTo": "barbers",
          "columnsFrom": [
            "barber_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "clients": {
      "name": "clients",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "shop_id": {
          "name": "shop_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "clients_shop_phone_unique": {
          "name": "clients_shop_phone_unique",
          "columns": [
            "shop_id",
            "phone"
          ],
          "isUnique": true
        },
        "clients_shop_id_idx": {
          "name": "clients_shop_id_idx",
          "columns": [
            "shop_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "clients_shop_id_shops_id_fk": {
          "name": "clients_shop_id_shops_id_fk",
          "tableFrom": "clients",
          "tableTo": "shops",
          "columnsFrom": [
            "shop_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "companies": {
      "name": "companies",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "companies_slug_unique": {
          "name": "companies_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      }
    },
    "company_admins": {
      "name": "company_admins",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "username": {
          "name": "username",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "company_admins_company_id_idx": {
          "name": "company_admins_company_id_idx",
          "columns": [
            "company_id"
          ],
          "isUnique": false
        },
        "company_admins_username_idx": {
          "name": "company_admins_username_idx",
          "columns": [
            "username"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "company_admins_company_id_companies_id_fk": {
          "name": "company_admins_company_id_companies_id_fk",
          "tableFrom": "company_admins",
          "tableTo": "companies",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "company_admins_username_unique": {
          "name": "company_admins_username_unique",
          "nullsNotDistinct": false,
          "columns": [
            "username"
          ]
        }
      }
    },
    "company_ads": {
      "name": "company_ads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "shop_id": {
          "name": "shop_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "position": {
          "name": "position",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "enabled": {
          "name": "enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "media_type": {
          "name": "media_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "mime_type": {
          "name": "mime_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "bytes": {
          "name": "bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "storage_key": {
          "name": "storage_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "public_url": {
          "name": "public_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "etag": {
          "name": "etag",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "company_ads_company_id_idx": {
          "name": "company_ads_company_id_idx",
          "columns": [
            "company_id"
          ],
          "isUnique": false
        },
        "company_ads_shop_id_idx": {
          "name": "company_ads_shop_id_idx",
          "columns": [
            "shop_id"
          ],
          "isUnique": false
        },
        "company_ads_enabled_idx": {
          "name": "company_ads_enabled_idx",
          "columns": [
            "enabled"
          ],
          "isUnique": false
        },
        "company_ads_position_idx": {
          "name": "company_ads_position_idx",
          "columns": [
            "company_id",
            "shop_id",
            "position"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "company_ads_company_id_companies_id_fk": {
          "name": "company_ads_company_id_companies_id_fk",
          "tableFrom": "company_ads",
          "tableTo": "companies",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "company_ads_shop_id_shops_id_fk": {
          "name": "company_ads_shop_id_shops_id_fk",
          "tableFrom": "company_ads",
          "tableTo": "shops",
          "columnsFrom": [
            "shop_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "projects": {
      "name": "projects",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "path": {
          "name": "path",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "projects_slug_unique": {
          "name": "projects_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      }
    },
    "services": {
      "name": "services",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "shop_id": {
          "name": "shop_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "duration": {
          "name": "duration",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "price": {
          "name": "price",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "services_shop_id_shops_id_fk": {
          "name": "services_shop_id_shops_id_fk",
          "tableFrom": "services",
          "tableTo": "shops",
          "columnsFrom": [
            "shop_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "shops": {
      "name": "shops",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "project_id": {
          "name": "project_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "company_id": {
          "name": "company_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "slug": {
          "name": "slug",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "domain": {
          "name": "domain",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "path": {
          "name": "path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "api_base": {
          "name": "api_base",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "theme": {
          "name": "theme",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_pin": {
          "name": "owner_pin",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "staff_pin": {
          "name": "staff_pin",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_pin_hash": {
          "name": "owner_pin_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "staff_pin_hash": {
          "name": "staff_pin_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "owner_pin_reset_required": {
          "name": "owner_pin_reset_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "staff_pin_reset_required": {
          "name": "staff_pin_reset_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "home_content": {
          "name": "home_content",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "settings": {
          "name": "settings",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "shops_company_id_idx": {
          "name": "shops_company_id_idx",
          "columns": [
            "company_id"
          ],
          "isUnique": false
        },
        "shops_project_id_idx": {
          "name": "shops_project_id_idx",
          "columns": [
            "project_id"
          ],
          "isUnique": false
        },
        "shops_project_id_slug_unique": {
          "name": "shops_project_id_slug_unique",
          "columns": [
            "project_id",
            "slug"
          ],
          "isUnique": true
        }
      },
      "foreignKeys": {
        "shops_project_id_projects_id_fk": {
          "name": "shops_project_id_projects_id_fk",
          "tableFrom": "shops",
          "tableTo": "projects",
          "columnsFrom": [
            "project_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "shops_company_id_companies_id_fk": {
          "name": "shops_company_id_companies_id_fk",
          "tableFrom": "shops",
          "tableTo": "companies",
          "columnsFrom": [
            "company_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    },
    "tickets": {
      "name": "tickets",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "shop_id": {
          "name": "shop_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "service_id": {
          "name": "service_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "barber_id": {
          "name": "barber_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "preferred_barber_id": {
          "name": "preferred_barber_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "client_id": {
          "name": "client_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "customer_name": {
          "name": "customer_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "customer_phone": {
          "name": "customer_phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "device_id": {
          "name": "device_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'waiting'"
        },
        "position": {
          "name": "position",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "estimated_wait_time": {
          "name": "estimated_wait_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "type": {
          "name": "type",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'walkin'"
        },
        "scheduled_time": {
          "name": "scheduled_time",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "check_in_time": {
          "name": "check_in_time",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "ticket_number": {
          "name": "ticket_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "cancelled_at": {
          "name": "cancelled_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "barber_assigned_at": {
          "name": "barber_assigned_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "tickets_shop_device_idx": {
          "name": "tickets_shop_device_idx",
          "columns": [
            "shop_id",
            "device_id"
          ],
          "isUnique": false
        },
        "tickets_shop_status_idx": {
          "name": "tickets_shop_status_idx",
          "columns": [
            "shop_id",
            "status"
          ],
          "isUnique": false
        },
        "tickets_shop_created_idx": {
          "name": "tickets_shop_created_idx",
          "columns": [
            "shop_id",
            "created_at"
          ],
          "isUnique": false
        },
        "tickets_client_id_idx": {
          "name": "tickets_client_id_idx",
          "columns": [
            "client_id"
          ],
          "isUnique": false
        }
      },
      "foreignKeys": {
        "tickets_shop_id_shops_id_fk": {
          "name": "tickets_shop_id_shops_id_fk",
          "tableFrom": "tickets",
          "tableTo": "shops",
          "columnsFrom": [
            "shop_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tickets_service_id_services_id_fk": {
          "name": "tickets_service_id_services_id_fk",
          "tableFrom": "tickets",
          "tableTo": "services",
          "columnsFrom": [
            "service_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tickets_barber_id_barbers_id_fk": {
          "name": "tickets_barber_id_barbers_id_fk",
          "tableFrom": "tickets",
          "tableTo": "barbers",
          "columnsFrom": [
            "barber_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tickets_preferred_barber_id_barbers_id_fk": {
          "name": "tickets_preferred_barber_id_barbers_id_fk",
          "tableFrom": "tickets",
          "tableTo": "barbers",
          "columnsFrom": [
            "preferred_barber_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "tickets_client_id_clients_id_fk": {
          "name": "tickets_client_id_clients_id_fk",
          "tableFrom": "tickets",
          "tableTo": "clients",
          "columnsFrom": [
            "client_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {}
    }
  },
  "enums": {},
  "schemas": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}